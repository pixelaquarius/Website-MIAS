document.addEventListener('DOMContentLoaded', () => {
    
    // 1. Mobile Menu Toggle (Nếu anh dùng Alpine.js thì có thể không cần cái này)
    const menuToggle = document.querySelector('.menu-toggle');
    const navLinks = document.querySelector('.nav-links');

    if (menuToggle && navLinks) {
        menuToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            menuToggle.classList.toggle('active');
        });
    }

    // 2. Scroll Animation (Nếu anh có dùng .reveal-on-scroll)
    const revealElements = document.querySelectorAll('.reveal-on-scroll');

    if (revealElements.length > 0) {
        const revealObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.1 // Kích hoạt khi 10% element lọt vào màn hình
        });

        revealElements.forEach(el => {
            revealObserver.observe(el);
        });
    }

    // 3. Hero Slider (Swiper.js) (Yêu cầu 1)
    // Đảm bảo rằng Swiper đã được load (từ file _layouts/default.html)
    if (typeof Swiper !== 'undefined') {
        const heroSlider = new Swiper('.hero-slider', {
            loop: true,
            autoplay: {
                delay: 5000,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
        });
    } else {
        console.log('Swiper library not loaded');
    }

    // 4. Service Tabs (Yêu cầu 2 & 3)
    // ĐÂY LÀ LOGIC ĐỂ TAB BẤM ĐƯỢC
    const tabButtons = document.querySelectorAll('.service-tab-button');
    const tabContents = document.querySelectorAll('.service-tab-content');

    if (tabButtons.length > 0 && tabContents.length > 0) {
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.getAttribute('data-tab');

                // Tắt active ở tất cả button và content
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));

                // Kích hoạt button và content tương ứng
                button.classList.add('active');
                const activeContent = document.getElementById(tabId);
                if (activeContent) {
                    activeContent.classList.add('active');
                }
            });
        });
    } else {
        console.log('Tab buttons or tab content not found.');
    }

});
